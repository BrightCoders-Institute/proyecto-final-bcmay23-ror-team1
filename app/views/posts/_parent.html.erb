<%= turbo_frame_tag "frame_#{dom_id(post)}" do %>

<div class="post 
            parent-post-container
            <%= "border-post bg-post" if !is_parent_of_comment %>">

  <%= link_to post, data: { turbo: false }, class: "post-link" do %><% end %>

  <% if post.user %>
    
    <%= render partial: "posts/simple-post-left",
      locals: {
        post: post,
        is_parent: true,
        is_parent_of_comment: is_parent_of_comment } %>

			<div class="parent-post-right">

        <!-- Name, Username, Date -->
        <%= render partial: "posts/components/metadata",
          locals: { 
            post: post, 
            is_current_post: false, 
            is_parent_of_comment: is_parent_of_comment,
            view: :show } %>

        <%= render partial: "posts/components/content", locals: { post: post }%>

        <% if is_parent_of_comment %>
          <div>
            Replying to
            <%= link_to("") do %>
              @<%= post.user.username %>
            <% end %>
          </div>
        <% else %>
          <%= render partial: "posts/components/actions", locals: { post: post }%>
        <% end %>

      </div>
			  
		<% elsif post.deleted_user %>
			This post is not available anymore
		<% end %>

	</div>

<% end %>
