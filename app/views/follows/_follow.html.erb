<%= turbo_frame_tag following_user do %>

  <% if current_user.follows?(following_user) %>

    <% url = follow_path(id: following_user.id) %>
    <%= link_to(url, remote: true, data: { turbo_method: :delete }) do %>
      <%= icon("fa-solid", "user", class: "follow-icon")%>
      Unfollow @<%= following_user.username %>
    <% end %>

  <% else %>

    <% url = follows_path(following: following_user.id) %>
    <%= link_to(url, remote: true, data: { turbo_method: :post }) do %>
      <%= icon("fa-solid", "user", class: "follow-icon")%>
      Follow @<%= following_user.username %>
    <% end %>

  <% end %>

<% end %>
